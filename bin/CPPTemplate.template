//////////////////////////////////////////////////////////////////////////////////////////////
/*
	%%STATEMACHINENAME%% State machine
	
	File generated %%DATE%% at %%TIME%%
	
	Do not edit this file directly.
	Use Rapido! by Cedric Guillemet.
	
	Rapido! is licensed under GPLV2. Here is a copy of Rapido! License :
	
	This program is free software; you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation; version 2 of the License.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.
	
*/
//////////////////////////////////////////////////////////////////////////////////////////////

#ifndef %%STATEMACHINENAME%%_H__
#define %%STATEMACHINENAME%%_H__

///////////////////////////////////////////////////////////////////////////////////////////////////

#include "../libbase/ZFSM.h"

%%INCLUDES%%

///////////////////////////////////////////////////////////////////////////////////////////////////

enum {
%%MESSAGESENUM%%
};

///////////////////////////////////////////////////////////////////////////////////////////////////

%%MESSAGEALLSTRUCTS%%

///////////////////////////////////////////////////////////////////////////////////////////////////

class %%STATEMACHINENAME%% : public ZFSM
{
public:
	%%STATEMACHINENAME%%()
	{
		Init();
	}
	
	void Init()
	{
		%%MEMBERSINIT%%
		mState = %%INITIALSTATE%%;
		Enter%%INITIALSTATE%%();	
	}

	//////////////////////////////////////////////////////////////////////////////////////////////
	void Tick(%%HASFLOATTIME%%);

	//////////////////////////////////////////////////////////////////////////////////////////////
	%%HANDLERAKNETPACKET%%

	//////////////////////////////////////////////////////////////////////////////////////////////
	%%ALLHANDLEMESSAGES%%

	//////////////////////////////////////////////////////////////////////////////////////////////
public:

	enum STATE
	{
	%%STATESENUM%%
	};

	//////////////////////////////////////////////////////////////////////////////////////////////
	
	STATE mState;
	%%MEMBERSDECLARE%%

	//////////////////////////////////////////////////////////////////////////////////////////////
	
	void SetState(STATE newState)
	{
		%%SETSTATESWITCH%%
		
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////////
	
	%%ALLTICKFUNCTIONS%%
	
	//////////////////////////////////////////////////////////////////////////////////////////////
	
	%%ALLENTERFUNCTIONS%%
	
	//////////////////////////////////////////////////////////////////////////////////////////////
	
	%%ALLLEAVEFUNCTIONS%%
	
	//////////////////////////////////////////////////////////////////////////////////////////////
	
	%%ALLSTATEMESSAGESHANDLE%%
	
	//////////////////////////////////////////////////////////////////////////////////////////////
};

///////////////////////////////////////////////////////////////////////////////////////////////////

inline void %%STATEMACHINENAME%%::Tick(%%HASFLOATTIME%%)
{
	ZFSM::Tick(timeEllapsed);
	
	%%TICKSTATECASE%%
}

///////////////////////////////////////////////////////////////////////////////////////////////////

#endif

